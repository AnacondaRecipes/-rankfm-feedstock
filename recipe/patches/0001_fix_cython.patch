From edc077a8e851f3cf6c6c8289933069069a347730 Mon Sep 17 00:00:00 2001
From: Serhii Kupriienko
Date: Thu, 6 Apr 2023 10:31:23 +0300
Subject: [PATCH] Fix cython and remove a compiler flag

---
 setup.py | 15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

diff --git a/setup.py b/setup.py
index 48c4c08..b3df96a 100644
--- a/setup.py
+++ b/setup.py
@@ -10,18 +10,13 @@ VERSION = '0.2.5'
 # ----------------------------------------
 
 # prefer the generated C extensions when building
-if glob.glob('rankfm/_rankfm.c'):
-    print("building extensions with pre-generated C source...")
-    use_cython = False
-    ext = 'c'
-else:
-    print("re-generating C source with cythonize...")
-    from Cython.Build import cythonize
-    use_cython = True
-    ext = 'pyx'
+print("re-generating C source with cythonize...")
+from Cython.Build import cythonize
+use_cython = True
+ext = 'pyx'
 
 # add compiler arguments to optimize machine code and ignore warnings
-disabled_warnings = ['-Wno-unused-function', '-Wno-uninitialized']
+disabled_warnings = ['-Wno-unused-function']
 compile_args = ['-O2', '-ffast-math'] + disabled_warnings
 
 # define the _rankfm extension including the wrapped MT module
-- 
2.39.0

